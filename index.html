<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Kalender Nasional Indonesia</title>
  <style>
    :root{--bg:#f6f8fa;--card:#ffffff;--accent:#0ea5a4;--muted:#6b7280}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, Arial; background:var(--bg); margin:0; padding:24px; color:#0f172a}
    .wrap{max-width:1000px;margin:0 auto;display:grid;grid-template-columns:3fr 1fr;gap:20px}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 20px rgba(2,6,23,0.06)}
    header{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
    h1{font-size:18px;margin:0}
    .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-left:auto}
    button{background:var(--accent);color:white;border:none;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600}
    .small{background:transparent;border:1px solid rgba(15,23,42,0.06);color:var(--muted);padding:6px 10px}
    select{padding:6px 10px;border-radius:8px;border:1px solid rgba(15,23,42,0.1);background:#f8fafc;font-weight:600}
    .calendar{margin-top:14px}
    .weekdays{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;color:var(--muted);font-size:13px}
    .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-top:8px}
    .cell{min-height:86px;border-radius:8px;padding:8px;background:linear-gradient(180deg,rgba(2,6,23,0.01),transparent);position:relative;cursor:pointer}
    .cell.out{opacity:0.35}
    .cell.today{box-shadow:inset 0 0 0 2px rgba(14,165,164,0.18);border:1px solid rgba(14,165,164,0.15)}
    .cell.holiday{background:rgba(255,220,150,0.25);border:1px solid rgba(255,180,0,0.4)}
    .date{position:absolute;top:8px;right:8px;font-weight:700}
    .footer{margin-top:12px;color:var(--muted);font-size:13px}
    .sidebar{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 20px rgba(2,6,23,0.06);overflow-y:auto;max-height:80vh}
    .sidebar h2{font-size:16px;margin:0 0 12px 0}
    .holiday-list{display:flex;flex-direction:column;gap:8px}
    .holiday-item{border-radius:8px;padding:8px 10px;background:#f8fafc;border:1px solid rgba(15,23,42,0.08);cursor:pointer}
    .holiday-item:hover{background:#e6f8f7}
    @media(max-width:820px){.wrap{grid-template-columns:1fr}.sidebar{order:-1;margin-bottom:16px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <h1>Kalender Sederhana</h1>
        <div class="controls">
          <button id="prev">‹</button>
          <select id="monthSelect"></select>
          <select id="yearSelect"></select>
          <button id="next">›</button>
          <button id="today" class="small">Hari Ini</button>
        </div>
      </header>

      <div class="calendar">
        <div class="weekdays">
          <div>Min</div><div>Sen</div><div>Sel</div><div>Rab</div><div>Kam</div><div>Jum</div><div>Sab</div>
        </div>
        <div class="grid" id="grid"></div>
      </div>

      <div class="footer">Klik tanggal untuk menambahkan catatan kecil. Hari nasional disorot warna kuning.</div>
    </div>

    <div class="sidebar">
      <h2>Rekapan Hari Nasional</h2>
      <div id="holidayList" class="holiday-list"></div>
    </div>
  </div>

  <script>
    const grid = document.getElementById('grid');
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    const todayBtn = document.getElementById('today');
    const monthSelect = document.getElementById('monthSelect');
    const yearSelect = document.getElementById('yearSelect');
    const holidayList = document.getElementById('holidayList');

    const namaBulan = ['Januari','Februari','Maret','April','Mei','Juni','Juli','Agustus','September','Oktober','November','Desember'];

    const holidays = [
      {date:'01-01', name:'Tahun Baru Masehi'},
      {date:'14-02', name:'Hari Kasih Sayang'},
      {date:'21-04', name:'Hari Kartini'},
      {date:'01-05', name:'Hari Buruh Internasional'},
      {date:'17-08', name:'Hari Kemerdekaan RI'},
      {date:'28-10', name:'Hari Sumpah Pemuda'},
      {date:'10-11', name:'Hari Pahlawan'},
      {date:'25-12', name:'Hari Natal'}
    ];

    const thisYear = new Date().getFullYear();

    namaBulan.forEach((m,i)=>{
      const opt=document.createElement('option');opt.value=i;opt.textContent=m;monthSelect.appendChild(opt);
    });
    for(let y=thisYear-5;y<=thisYear+5;y++){
      const opt=document.createElement('option');opt.value=y;opt.textContent=y;yearSelect.appendChild(opt);
    }

    let view = new Date();

    function startOfWeek(d){
      const dd = new Date(d.getFullYear(), d.getMonth(), d.getDate());
      const diff = dd.getDay();
      dd.setDate(dd.getDate() - diff);
      dd.setHours(0,0,0,0);
      return dd;
    }

    function sameDay(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate();}
    function keyForDate(d){return d.getFullYear()+'-'+String(d.getMonth()+1).padStart(2,'0')+'-'+String(d.getDate()).padStart(2,'0');}

    function getHoliday(date){
      const key = String(date.getDate()).padStart(2,'0')+'-'+String(date.getMonth()+1).padStart(2,'0');
      return holidays.find(h=>h.date===key);
    }

    function render(){
      grid.innerHTML='';
      const year=view.getFullYear();
      const month=view.getMonth();
      monthSelect.value=month;
      yearSelect.value=year;

      const first=new Date(year,month,1);
      const start=startOfWeek(first);

      const cells=[];
      for(let i=0;i<42;i++){
        const d=new Date(start.getFullYear(),start.getMonth(),start.getDate()+i);
        cells.push(d);
      }

      const today=new Date();
      for(const d of cells){
        const cell=document.createElement('div');
        cell.className='cell';
        if(d.getMonth()!==month) cell.classList.add('out');
        if(sameDay(d,today)) cell.classList.add('today');

        const holiday=getHoliday(d);
        if(holiday) cell.classList.add('holiday');

        const dateEl=document.createElement('div');
        dateEl.className='date';
        dateEl.textContent=d.getDate();
        cell.appendChild(dateEl);

        if(holiday){
          const info=document.createElement('div');
          info.textContent=holiday.name;
          info.style.fontSize='12px';
          info.style.marginTop='24px';
          cell.appendChild(info);
        }

        grid.appendChild(cell);
      }
    }

    function renderHolidayList(){
      holidayList.innerHTML='';
      holidays.forEach(h=>{
        const [day,month]=h.date.split('-').map(x=>parseInt(x));
        const item=document.createElement('div');
        item.className='holiday-item';
        item.textContent=`${day} ${namaBulan[month-1]} - ${h.name}`;
        item.addEventListener('click',()=>{
          view=new Date(thisYear,month-1,1);
          render();
          setTimeout(()=>{
            alert(`Menampilkan bulan ${namaBulan[month-1]} untuk ${h.name}`);
          },100);
        });
        holidayList.appendChild(item);
      });
    }

    prev.addEventListener('click',()=>{view=new Date(view.getFullYear(),view.getMonth()-1,1);render();});
    next.addEventListener('click',()=>{view=new Date(view.getFullYear(),view.getMonth()+1,1);render();});
    todayBtn.addEventListener('click',()=>{view=new Date();render();});
    monthSelect.addEventListener('change',()=>{view=new Date(view.getFullYear(),parseInt(monthSelect.value),1);render();});
    yearSelect.addEventListener('change',()=>{view=new Date(parseInt(yearSelect.value),view.getMonth(),1);render();});

    render();
    renderHolidayList();
  </script>
</body>
</html>
